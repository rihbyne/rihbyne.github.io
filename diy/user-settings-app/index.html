<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <title>swlogs - Common User Settings as a Reusable app</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href='https://fonts.googleapis.com/css?family=Gentium+Book+Basic|Merriweather:400,300' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://rihenperry.github.io/theme/css/cid.css">
        <link href="https://rihenperry.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="swlogs Atom Feed" />
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

            <div class="container">

<style rel="text/css">
 body p {
    text-align: justify
 }

 .site-logo {
    float: left;
  }
.container .blog-header h1 , .container .blog-header p {
}
.container .blog-header h1 {

    display: inline-block;
}
.site-logo img {
    width: 100%;
    max-width: 110px;
    height: auto;
margin-right:25px;
}

 .blog-header nav a {
    text-decoration:none;
     color: blue;
 }

 .blog-footer .nav a {
     text-decoration: none;
     color: blue;
 }

 .blog-footer .nav .dots {
     font-weight: bold;
 }
</style>
<header class="blog-header">
  <div class="header-container" style="height: auto">
    <div class="site-logo" >
       <img  src="https://rihenperry.github.io/images/android-chrome-512x512.png">
    </div>
    <div>
      <h1>
       <a href="https://rihenperry.github.io">swlogs</a>
      </h1>
      <p> recording happenings around </p>
    </div>
  </div>
</header>
    <h1>Common User Settings as a Reusable app</h1>
    

    <p>Reusable Apps in a traditional 3-tier application architectures have proved to be very useful in 
delivering out of box functionality.</p>
<p><img src="../../images/diy/reusable_app.png" width="750" height="550"></p>
<p>The above schematic diagram shows internal structure of setting user preferences options for Searchtrade wallet users both existing and new. The revised wallet code presets both existing and new users with default notification preferences when they signup or login.As of wallet v2.1.0, there are about 16 notification option possibilities(shown above in the figure) arising from every keyword search, provided that the user is registered on searchtrade.com. The complexity of managing the notification user preferences is done by grouping them into  containers. </p>
<h2 id="workings">Workings:</h2>
<p>Following are the containers used when running the user preference API. These containers acts as fields and must be send in request body. They are typically sent when making a service call from another machine like php appln server.</p>
<ul>
<li>buy_container</li>
<li>ask_container</li>
<li>bid_container</li>
<li>deposit_container</li>
<li>withdrawal_container</li>
<li>kwd_license_container</li>
</ul>
<p>Using containers to group notification options helps us to classify options into categories.They provide immense flexibility both from API user’s and maintainers standpoint by allowing them to update only the affected container and rest of them stay untouched. This allows faster request-response calls and avoids unnecessary execution of other containers which is not changed by user.In other words user preference APIs allows the caller to make granular change to the user settings.</p>
<p>With every container it is required to send the perm_code until which the options in the container are not recorded and simply not valid.The term “perm_code” refers to the type of medium user wishes to get  notified about the activity happening on the wallet.The validation is achieved by imposing strict constraints on containers-perm_code pairs  by applying regex on the ids inside the container.The perm codes apply to each option in the container.</p>
<p>Now as per request from upstream management, the user preferences module is designed to handle privacy settings of searchtrade’s keyword bidding network along with wallet preferences, who’s code is under development at the time of writing this doc.
So, the user preferences API takes in either option as a single character from (user-friends-group ) which evaluates as either u, f, g and concats it with an integer from (sms-email-push) by adding -summing up its associated values.</p>
<p><img src="../../images/diy/user_workings.png" width="650" height="450"></p>
<h2 id="example-1">Example 1</h2>
<p>Buy_container -&gt; [1, 2, 3] then its valid perm_code can be “u7u6u1”</p>
<p>Therefore, evaluating the above example, buy_container has three option ids who’s perm_code when decoded is index 0 of buy_container which is id -&gt; 1 has privacy setting set to user(private) and notify preference set to sms-email-push. Next, going to index 1 of buy_container which is id -&gt; 2 has privacy setting set to user(private) but this time has notify preference set to sms-email only and lastly, going to last index of buy_container which id id-&gt; 3 has privacy setting user(private) and notify preference set to push only.</p>
<h2 id="example-2">Example 2</h2>
<p>Buy_container -&gt; [1,3] then its valid perm_code can be “u0u3”</p>
<p>This example shows if  a user does not wish  to be notified for notification id -&gt; 1 who’s perm_code “u0” when decoded is privacy setting set to user(private) and notify preference set to none - which means the person simply does not want  to receive notification via sms-email-push for that option id.</p>


<footer class="blog-footer">

    <ul class="nav">
                    <li><a href="https://rihenperry.github.io/blog">posts</a></li>
                    <li class="dots">.</li>
                    <li><a href="https://rihenperry.github.io/diy">solos</a></li>
                    <li class="dots">.</li>
                    <li><a href="https://rihenperry.github.io/downloadables/resume.pdf">resume</a></li>
                    <li class="dots">.</li>
                    <li><a href="https://rihenperry.github.io/https://goodreads.com/rihanpereira">reading</a></li>
                    <li class="dots">.</li>
    </ul>

    <p class="disclaimer">
        Rihan &copy; 2019. Contents are <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/us/">cc by-nc-sa</a>. All opinions are of my own.
    </p>
</footer>
            </div>
    </body>
</html>